{"version":3,"file":"js/208.6e6dd585.js","mappings":"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","sources":["webpack://memo-letter/../../../models/models_0.ts","webpack://memo-letter/../../src/Providers/InteractionsProvider.ts","webpack://memo-letter/../../endpoints.ts","webpack://memo-letter/../../runtimeConfig.shared.ts","webpack://memo-letter/../../runtimeConfig.browser.ts","webpack://memo-letter/../../LexRuntimeServiceClient.ts","webpack://memo-letter/../../../protocols/Aws_restJson1.ts","webpack://memo-letter/../../../commands/PostTextCommand.ts","webpack://memo-letter/../../../commands/PostContentCommand.ts","webpack://memo-letter/../../../src/Providers/AWSLexProviderHelper/convert.ts","webpack://memo-letter/../../src/Providers/AWSLexProvider.ts","webpack://memo-letter/../src/Interactions.ts","webpack://memo-letter/./node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-chatbot.entry.js"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,"var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, h, c as createEvent, H as Host, g as getElement } from './index-83f2275b.js';\nimport { Logger, browserOrNode, I18n } from '@aws-amplify/core';\nimport '@aws-amplify/auth';\nimport { T as Translations } from './Translations-108d469f.js';\nimport { c as NO_INTERACTIONS_MODULE_FOUND } from './constants-c8ecaa24.js';\nimport { Interactions } from '@aws-amplify/interactions';\n// AudioRecorder settings\nvar RECORDER_EXPORT_MIME_TYPE = 'application/octet-stream';\nvar DEFAULT_EXPORT_SAMPLE_RATE = 16000;\nvar FFT_SIZE = 2048; // window size in samples for Fast Fourier Transform (FFT)\nvar FFT_MAX_DECIBELS = -10; // maximum power value in the scaling range for the FFT analysis data\nvar FFT_MIN_DECIBELS = -90; // minimum power value in the scaling range for the FFT analysis data\nvar FFT_SMOOTHING_TIME_CONSTANT = 0.85; // averaging constant with the last analysis frame\n/**\n * Merges multiple buffers into one.\n */\nvar mergeBuffers = function (bufferArray, recLength) {\n    var result = new Float32Array(recLength);\n    var offset = 0;\n    for (var i = 0; i < bufferArray.length; i++) {\n        result.set(bufferArray[i], offset);\n        offset += bufferArray[i].length;\n    }\n    return result;\n};\n/**\n * Downsamples audio to desired export sample rate.\n */\nvar downsampleBuffer = function (buffer, recordSampleRate, exportSampleRate) {\n    if (exportSampleRate === recordSampleRate) {\n        return buffer;\n    }\n    var sampleRateRatio = recordSampleRate / exportSampleRate;\n    var newLength = Math.round(buffer.length / sampleRateRatio);\n    var result = new Float32Array(newLength);\n    var offsetResult = 0;\n    var offsetBuffer = 0;\n    while (offsetResult < result.length) {\n        var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n        var accum = 0, count = 0;\n        for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n            accum += buffer[i];\n            count++;\n        }\n        result[offsetResult] = accum / count;\n        offsetResult++;\n        offsetBuffer = nextOffsetBuffer;\n    }\n    return result;\n};\n/**\n * converts raw audio values to 16 bit pcm.\n */\nvar floatTo16BitPCM = function (output, offset, input) {\n    var byteOffset = offset;\n    for (var i = 0; i < input.length; i++, byteOffset += 2) {\n        var s = Math.max(-1, Math.min(1, input[i]));\n        output.setInt16(byteOffset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n};\n/**\n * Write given strings in big-endian order.\n */\nvar writeString = function (view, offset, string) {\n    for (var i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n    }\n};\n/**\n * Encodes raw pcm audio into a wav file.\n */\nvar encodeWAV = function (samples, exportSampleRate) {\n    /**\n     * WAV file consists of three parts: RIFF header, WAVE subchunk, and data subchunk. We precompute the size of them.\n     */\n    var audioSize = samples.length * 2; // We use 16-bit samples, so we have (2 * sampleLength) bytes.\n    var fmtSize = 24; // Byte size of the fmt subchunk: 24 bytes that the audio information that we'll set below.\n    var dataSize = 8 + audioSize; // Byte size of the data subchunk: raw sound data plus 8 bytes for the subchunk descriptions.\n    var totalByteSize = 12 + fmtSize + dataSize; // Byte size of the whole file, including the chunk header / descriptor.\n    // create DataView object to write byte values into\n    var buffer = new ArrayBuffer(totalByteSize); // buffer to write the chunk values in.\n    var view = new DataView(buffer);\n    /**\n     * Start writing the .wav file. We write top to bottom, so byte offset (first numeric argument) increases strictly.\n     */\n    // RIFF header\n    writeString(view, 0, 'RIFF'); // At offset 0, write the letters \"RIFF\"\n    view.setUint32(4, fmtSize + dataSize, true); // At offset 4, write the size of fmt and data chunk size combined.\n    writeString(view, 8, 'WAVE'); // At offset 8, write the format type \"WAVE\"\n    // fmt subchunk\n    writeString(view, 12, 'fmt '); //chunkdId 'fmt '\n    view.setUint32(16, fmtSize - 8, true); // fmt subchunk size below this value. We set 8 bytes already, so subtract 8 bytes from fmtSize.\n    view.setUint16(20, 1, true); // Audio format code, which is 1 for PCM.\n    view.setUint16(22, 1, true); // Number of audio channels. We use mono, ie 1.\n    view.setUint32(24, exportSampleRate, true); // Sample rate of the audio file.\n    view.setUint32(28, exportSampleRate * 2, true); // Data rate, or # of data bytes per second. Since each sample is 2 bytes, this is 2 * sampleRate.\n    view.setUint16(32, 2, true); // block align, # of bytes per sample including all channels, ie. 2 bytes.\n    view.setUint16(34, 16, true); // bits per sample, ie. 16 bits\n    // data subchunk\n    writeString(view, 36, 'data'); // write the chunkId 'data'\n    view.setUint32(40, audioSize, true); // Audio byte size\n    floatTo16BitPCM(view, 44, samples); // raw pcm values then go here.\n    return view;\n};\n/**\n * Given arrays of raw pcm audio, downsamples the audio to desired sample rate and encodes it to a wav audio file.\n *\n * @param recBuffer {Float32Array[]} - 2d float array containing the recorded raw audio\n * @param recLength {number} - total length of recorded audio\n * @param recordSampleRate {number} - sample rate of the recorded audio\n * @param exportSampleRate {number} - desired sample rate of the exported file\n */\nvar exportBuffer = function (recBuffer, recLength, recordSampleRate, exportSampleRate) {\n    var mergedBuffers = mergeBuffers(recBuffer, recLength);\n    var downsampledBuffer = downsampleBuffer(mergedBuffers, recordSampleRate, exportSampleRate);\n    var encodedWav = encodeWAV(downsampledBuffer, exportSampleRate);\n    var audioBlob = new Blob([encodedWav], {\n        type: RECORDER_EXPORT_MIME_TYPE,\n    });\n    return audioBlob;\n};\nvar logger = new Logger('AudioRecorder');\nvar AudioRecorder = /** @class */ (function () {\n    function AudioRecorder(options) {\n        // input mic stream is stored in a buffer\n        this.streamBuffer = [];\n        this.streamBufferLength = 0;\n        this.recording = false;\n        this.options = options;\n    }\n    /**\n     * This must be called first to enable audio context and request microphone access.\n     * Once access granted, it connects all the necessary audio nodes to the context so that it can begin recording or playing.\n     */\n    AudioRecorder.prototype.init = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!browserOrNode().isBrowser) return [3 /*break*/, 2];\n                        window.AudioContext =\n                            window.AudioContext || window.webkitAudioContext;\n                        this.audioContext = new AudioContext();\n                        return [4 /*yield*/, navigator.mediaDevices\n                                .getUserMedia({ audio: true })\n                                .then(function (stream) {\n                                _this.audioSupported = true;\n                                _this.setupAudioNodes(stream);\n                            })\n                                .catch(function () {\n                                _this.audioSupported = false;\n                                return Promise.reject('Audio is not supported');\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        this.audioSupported = false;\n                        return [2 /*return*/, Promise.reject('Audio is not supported')];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Setup audio nodes after successful `init`.\n     */\n    AudioRecorder.prototype.setupAudioNodes = function (stream) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_1, sourceNode, processorNode, analyserNode;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.audioContext.resume()];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        err_1 = _a.sent();\n                        logger.error(err_1);\n                        return [3 /*break*/, 3];\n                    case 3:\n                        sourceNode = this.audioContext.createMediaStreamSource(stream);\n                        processorNode = this.audioContext.createScriptProcessor(4096, 1, 1);\n                        processorNode.onaudioprocess = function (audioProcessingEvent) {\n                            if (!_this.recording)\n                                return;\n                            var stream = audioProcessingEvent.inputBuffer.getChannelData(0);\n                            _this.streamBuffer.push(new Float32Array(stream)); // set to a copy of the stream\n                            _this.streamBufferLength += stream.length;\n                            _this.analyse();\n                        };\n                        analyserNode = this.audioContext.createAnalyser();\n                        analyserNode.minDecibels = FFT_MIN_DECIBELS;\n                        analyserNode.maxDecibels = FFT_MAX_DECIBELS;\n                        analyserNode.smoothingTimeConstant = FFT_SMOOTHING_TIME_CONSTANT;\n                        sourceNode.connect(analyserNode);\n                        analyserNode.connect(processorNode);\n                        processorNode.connect(sourceNode.context.destination);\n                        this.analyserNode = analyserNode;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Start recording audio and listen for silence.\n     *\n     * @param onSilence {SilenceHandler} - called whenever silence is detected\n     * @param visualizer {Visualizer} - called with audio data on each audio process to be used for visualization.\n     */\n    AudioRecorder.prototype.startRecording = function (onSilence, visualizer) {\n        return __awaiter(this, void 0, void 0, function () {\n            var context, err_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.recording || !this.audioSupported)\n                            return [2 /*return*/];\n                        this.onSilence = onSilence || function () { };\n                        this.visualizer = visualizer || function () { };\n                        context = this.audioContext;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, context.resume()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_2 = _a.sent();\n                        logger.error(err_2);\n                        return [3 /*break*/, 4];\n                    case 4:\n                        this.start = Date.now();\n                        this.recording = true;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Pause recording\n     */\n    AudioRecorder.prototype.stopRecording = function () {\n        if (!this.audioSupported)\n            return;\n        this.recording = false;\n    };\n    /**\n     * Pause recording and clear audio buffer\n     */\n    AudioRecorder.prototype.clear = function () {\n        this.stopRecording();\n        this.streamBufferLength = 0;\n        this.streamBuffer = [];\n    };\n    /**\n     * Plays given audioStream with audioContext\n     *\n     * @param buffer {Uint8Array} - audioStream to be played\n     */\n    AudioRecorder.prototype.play = function (buffer) {\n        var _this = this;\n        if (!buffer || !this.audioSupported)\n            return;\n        var myBlob = new Blob([buffer]);\n        return new Promise(function (res, rej) {\n            var fileReader = new FileReader();\n            fileReader.onload = function () {\n                if (_this.playbackSource)\n                    _this.playbackSource.disconnect(); // disconnect previous playback source\n                _this.playbackSource = _this.audioContext.createBufferSource();\n                var successCallback = function (buf) {\n                    _this.playbackSource.buffer = buf;\n                    _this.playbackSource.connect(_this.audioContext.destination);\n                    _this.playbackSource.onended = function () {\n                        return res();\n                    };\n                    _this.playbackSource.start(0);\n                };\n                var errorCallback = function (err) {\n                    return rej(err);\n                };\n                _this.audioContext.decodeAudioData(fileReader.result, successCallback, errorCallback);\n            };\n            fileReader.onerror = function () { return rej(); };\n            fileReader.readAsArrayBuffer(myBlob);\n        });\n    };\n    /**\n     * Stops playing audio if there's a playback source connected.\n     */\n    AudioRecorder.prototype.stop = function () {\n        if (this.playbackSource) {\n            this.playbackSource.stop();\n        }\n    };\n    /**\n     * Called after each audioProcess. Check for silence and give fft time domain data to visualizer.\n     */\n    AudioRecorder.prototype.analyse = function () {\n        if (!this.audioSupported)\n            return;\n        var analyser = this.analyserNode;\n        analyser.fftSize = FFT_SIZE;\n        var bufferLength = analyser.fftSize;\n        var dataArray = new Uint8Array(bufferLength);\n        var amplitude = this.options.amplitude;\n        var time = this.options.time;\n        analyser.getByteTimeDomainData(dataArray);\n        this.visualizer(dataArray, bufferLength);\n        for (var i = 0; i < bufferLength; i++) {\n            // Normalize between -1 and 1.\n            var curr_value_time = dataArray[i] / 128 - 1.0;\n            if (curr_value_time > amplitude || curr_value_time < -1 * amplitude) {\n                this.start = Date.now();\n            }\n        }\n        var newtime = Date.now();\n        var elapsedTime = newtime - this.start;\n        if (elapsedTime > time) {\n            this.onSilence();\n        }\n    };\n    /**\n     * Encodes recorded buffer to a wav file and exports it to a blob.\n     *\n     * @param exportSampleRate {number} - desired sample rate of the exported buffer\n     */\n    AudioRecorder.prototype.exportWAV = function (exportSampleRate) {\n        if (exportSampleRate === void 0) { exportSampleRate = DEFAULT_EXPORT_SAMPLE_RATE; }\n        return __awaiter(this, void 0, void 0, function () {\n            var recordSampleRate, blob;\n            return __generator(this, function (_a) {\n                if (!this.audioSupported)\n                    return [2 /*return*/];\n                recordSampleRate = this.audioContext.sampleRate;\n                blob = exportBuffer(this.streamBuffer, this.streamBufferLength, recordSampleRate, exportSampleRate);\n                this.clear();\n                return [2 /*return*/, blob];\n            });\n        });\n    };\n    return AudioRecorder;\n}());\nvar visualize = function (dataArray, bufferLength, canvas) {\n    if (!canvas)\n        return;\n    if (!browserOrNode().isBrowser)\n        throw new Error('Visualization is not supported on non-browsers.');\n    var _a = canvas.getBoundingClientRect(), width = _a.width, height = _a.height;\n    // need to update the default canvas width and height\n    canvas.width = width;\n    canvas.height = height;\n    var canvasCtx = canvas.getContext('2d');\n    canvasCtx.fillStyle = 'white';\n    canvasCtx.clearRect(0, 0, width, height);\n    var draw = function () {\n        canvasCtx.fillRect(0, 0, width, height);\n        canvasCtx.lineWidth = 1;\n        var color = getComputedStyle(document.documentElement).getPropertyValue('--amplify-primary-color');\n        canvasCtx.strokeStyle = !color || color === '' ? '#ff9900' : color; // TODO: try separate css variable\n        canvasCtx.beginPath();\n        var sliceWidth = (width * 1.0) / bufferLength;\n        var x = 0;\n        for (var i = 0; i < bufferLength || i % 3 === 0; i++) {\n            var value = dataArray[i] / 128.0;\n            var y = (value * height) / 2;\n            if (i === 0) {\n                canvasCtx.moveTo(x, y);\n            }\n            else {\n                canvasCtx.lineTo(x, y);\n            }\n            x += sliceWidth;\n        }\n        canvasCtx.lineTo(canvas.width, canvas.height / 2);\n        canvasCtx.stroke();\n    };\n    // Register our draw function with requestAnimationFrame.\n    requestAnimationFrame(draw);\n};\nvar amplifyChatbotCss = \".bot .dot{background-color:var(--bot-dot-color)}.user .dot{background-color:var(--user-dot-color)}.dot-flashing{width:2.625rem}.dot-flashing .dot{display:inline-block;width:0.625rem;height:0.625rem;border-radius:10rem;opacity:0.65}.dot-flashing .left{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:0s;animation-delay:0s}.dot-flashing .middle{margin-left:0.375rem;margin-right:0.375rem;-webkit-animation:dot-flashing 1s infinite linear alternate;animation:dot-flashing 1s infinite linear alternate;-webkit-animation-delay:0.5s;animation-delay:0.5s}.dot-flashing .right{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:1s;animation-delay:1s}@-webkit-keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}@keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}:host{--width:28.75rem;--height:37.5rem;--header-color:var(--amplify-secondary-color);--header-size:var(--amplify-text-lg);--bot-background-color:rgb(230, 230, 230);--bot-text-color:black;--bot-dot-color:var(--bot-text-color);--user-background-color:var(--amplify-blue);--user-text-color:var(--amplify-white);--user-dot-color:var(--user-text-color)}.amplify-chatbot{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--background-color);border-radius:0.375rem;-webkit-box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);-webkit-box-sizing:border-box;box-sizing:border-box;font-family:var(--amplify-font-family);margin-bottom:1rem;width:100%;height:var(--height);max-width:var(--width)}@media (min-width: 672px){.amplify-chatbot{width:var(--width)}}.header{padding:1.25rem 0.375rem 1.25rem 0.375rem;color:var(--header-color);font-size:var(--header-size);font-weight:bold;text-align:center;word-wrap:break-word}.body{border-top:0.0625rem solid rgba(0, 0, 0, 0.05);padding:1.5rem 1rem 0 1rem;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;overflow:auto}.bubble{max-width:100%;padding:0.8em 1.4em;text-align:left;word-wrap:break-word;margin-bottom:0.625rem}.bot{margin-right:auto;background-color:var(--bot-background-color);color:var(--bot-text-color);border-radius:1.5rem 1.5rem 1.5rem 0}.user{margin-left:auto;background-color:var(--user-background-color);color:var(--user-text-color);border-radius:1.5rem 1.5rem 0 1.5rem}.footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-top:0.062rem solid rgba(0, 0, 0, 0.05);padding-right:0.625rem;min-height:3.125rem}.footer amplify-input{--border:none;--margin:0;-ms-flex-positive:1;flex-grow:1}canvas{margin-left:0.625rem;margin-right:0.625rem;-ms-flex-positive:1;flex-grow:1;height:3.125rem}.icon-button{--icon-height:1.25rem;--icon-fill:var(--amplify-primary-color);--padding:0.625rem;--width:auto}\";\n// enum for possible bot states\nvar ChatState;\n(function (ChatState) {\n    ChatState[ChatState[\"Initial\"] = 0] = \"Initial\";\n    ChatState[ChatState[\"Listening\"] = 1] = \"Listening\";\n    ChatState[ChatState[\"SendingText\"] = 2] = \"SendingText\";\n    ChatState[ChatState[\"SendingVoice\"] = 3] = \"SendingVoice\";\n    ChatState[ChatState[\"Error\"] = 4] = \"Error\";\n})(ChatState || (ChatState = {}));\n// Message types\nvar MessageFrom;\n(function (MessageFrom) {\n    MessageFrom[\"Bot\"] = \"bot\";\n    MessageFrom[\"User\"] = \"user\";\n})(MessageFrom || (MessageFrom = {}));\n// Error types\nvar ChatErrorType;\n(function (ChatErrorType) {\n    ChatErrorType[ChatErrorType[\"Recoverable\"] = 0] = \"Recoverable\";\n    ChatErrorType[ChatErrorType[\"Unrecoverable\"] = 1] = \"Unrecoverable\";\n})(ChatErrorType || (ChatErrorType = {}));\nvar AmplifyChatbot = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Clear messages when conversation finishes */\n        this.clearOnComplete = false;\n        /** Continue listening to users after they send the message */\n        this.conversationModeOn = false;\n        /** Text placed in the top header */\n        this.botTitle = Translations.CHATBOT_TITLE;\n        /** Whether voice chat is enabled */\n        this.voiceEnabled = false;\n        /** Whether text chat is enabled */\n        this.textEnabled = true;\n        /** Amount of silence (in ms) to wait for */\n        this.silenceTime = 1500;\n        /** Noise threshold between -1 and 1. Anything below is considered a silence. */\n        this.silenceThreshold = 0.2;\n        /** Messages in current session */\n        this.messages = [];\n        /** Text input box value  */\n        this.text = '';\n        /** Current app state */\n        this.chatState = ChatState.Initial;\n        /**\n         * Rendering methods\n         */\n        this.messageJSX = function (messages) {\n            var messageList = messages.map(function (message) { return (h(\"div\", { class: \"bubble \" + message.from }, message.content)); });\n            if (_this.chatState === ChatState.SendingText ||\n                _this.chatState === ChatState.SendingVoice) {\n                // if waiting for voice message, show animation on user side because app is waiting for transcript. Else put it on bot side.\n                var client = _this.chatState === ChatState.SendingText\n                    ? MessageFrom.Bot\n                    : MessageFrom.User;\n                messageList.push(h(\"div\", { class: \"bubble \" + client }, h(\"div\", { class: \"dot-flashing \" + client }, h(\"span\", { class: \"dot left\" }), h(\"span\", { class: \"dot middle\" }), h(\"span\", { class: \"dot right\" }))));\n            }\n            return messageList;\n        };\n        this.chatCompleted = createEvent(this, \"chatCompleted\", 7);\n    }\n    // Occurs when user presses enter in input box\n    class_1.prototype.submitHandler = function (_event) {\n        this.sendTextMessage();\n    };\n    /**\n     * Lifecycle functions\n     */\n    class_1.prototype.componentWillLoad = function () {\n        if (!Interactions || typeof Interactions.onComplete !== 'function') {\n            throw new Error(NO_INTERACTIONS_MODULE_FOUND);\n        }\n        this.validateProps();\n    };\n    class_1.prototype.componentDidRender = function () {\n        // scroll to the bottom if necessary\n        var body = this.element.shadowRoot.querySelector('.body');\n        body.scrollTop = body.scrollHeight;\n    };\n    class_1.prototype.validateProps = function () {\n        var _this = this;\n        if (!this.voiceEnabled && !this.textEnabled) {\n            this.setError(Translations.CHAT_DISABLED_ERROR, ChatErrorType.Unrecoverable);\n            return;\n        }\n        else if (!this.botName) {\n            this.setError(Translations.NO_BOT_NAME_ERROR, ChatErrorType.Unrecoverable);\n            return;\n        }\n        if (this.welcomeMessage)\n            this.appendToChat(this.welcomeMessage, MessageFrom.Bot);\n        // Initialize AudioRecorder if voice is enabled\n        if (this.voiceEnabled) {\n            this.audioRecorder = new AudioRecorder({\n                time: this.silenceTime,\n                amplitude: this.silenceThreshold,\n            });\n            this.audioRecorder.init().catch(function (err) {\n                _this.setError(err, ChatErrorType.Recoverable);\n            });\n        }\n        // Callback function to be called after chat is completed\n        var onComplete = function (err, data) {\n            _this.chatCompleted.emit({\n                data: data,\n                err: err,\n            });\n            if (_this.clearOnComplete) {\n                _this.reset();\n            }\n            else {\n                _this.chatState = ChatState.Initial;\n            }\n        };\n        try {\n            Interactions.onComplete(this.botName, onComplete);\n        }\n        catch (err) {\n            this.setError(err, ChatErrorType.Unrecoverable);\n        }\n    };\n    /**\n     * Handlers\n     */\n    class_1.prototype.handleSubmit = function (event) {\n        event.preventDefault();\n        this.sendTextMessage();\n    };\n    class_1.prototype.handleMicButton = function () {\n        var _this = this;\n        if (this.chatState !== ChatState.Initial)\n            return;\n        this.audioRecorder.stop();\n        this.chatState = ChatState.Listening;\n        this.audioRecorder.startRecording(function () { return _this.handleSilence(); }, function (data, length) { return _this.visualizer(data, length); });\n    };\n    class_1.prototype.handleSilence = function () {\n        var _this = this;\n        this.chatState = ChatState.SendingVoice;\n        this.audioRecorder.stopRecording();\n        this.audioRecorder.exportWAV().then(function (blob) {\n            _this.sendVoiceMessage(blob);\n        });\n    };\n    class_1.prototype.handleTextChange = function (event) {\n        var target = event.target;\n        this.text = target.value;\n    };\n    class_1.prototype.handleCancelButton = function () {\n        this.audioRecorder.clear();\n        this.chatState = ChatState.Initial;\n    };\n    class_1.prototype.handleToastClose = function (errorType) {\n        this.error = undefined; // clear error\n        // if error is recoverable, reset the app state to initial\n        if (errorType === ChatErrorType.Recoverable) {\n            this.chatState = ChatState.Initial;\n        }\n    };\n    /**\n     * Visualization\n     */\n    class_1.prototype.visualizer = function (dataArray, bufferLength) {\n        var canvas = this.element.shadowRoot.querySelector('canvas');\n        visualize(dataArray, bufferLength, canvas);\n    };\n    /**\n     * Interactions helpers\n     */\n    class_1.prototype.sendTextMessage = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var text, response, err_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.text.length === 0 || this.chatState !== ChatState.Initial)\n                            return [2 /*return*/];\n                        text = this.text;\n                        this.text = '';\n                        this.appendToChat(text, MessageFrom.User);\n                        this.chatState = ChatState.SendingText;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Interactions.send(this.botName, text)];\n                    case 2:\n                        response = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_3 = _a.sent();\n                        this.setError(err_3, ChatErrorType.Recoverable);\n                        return [2 /*return*/];\n                    case 4:\n                        if (response.message) {\n                            this.appendToChat(response.message, MessageFrom.Bot);\n                        }\n                        this.chatState = ChatState.Initial;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.sendVoiceMessage = function (audioInput) {\n        return __awaiter(this, void 0, void 0, function () {\n            var interactionsMessage, response, err_4, dialogState;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        interactionsMessage = {\n                            content: audioInput,\n                            options: {\n                                messageType: 'voice',\n                            },\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Interactions.send(this.botName, interactionsMessage)];\n                    case 2:\n                        response = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_4 = _a.sent();\n                        this.setError(err_4, ChatErrorType.Recoverable);\n                        return [2 /*return*/];\n                    case 4:\n                        this.chatState = ChatState.Initial;\n                        dialogState = response.dialogState;\n                        if (response.inputTranscript)\n                            this.appendToChat(response.inputTranscript, MessageFrom.User);\n                        this.appendToChat(response.message, MessageFrom.Bot);\n                        return [4 /*yield*/, this.audioRecorder\n                                .play(response.audioStream)\n                                .then(function () {\n                                // if conversationMode is on, chat is incomplete, and mic button isn't pressed yet, resume listening.\n                                if (_this.conversationModeOn &&\n                                    dialogState !== 'Fulfilled' &&\n                                    dialogState !== 'Failed' &&\n                                    _this.chatState === ChatState.Initial) {\n                                    _this.handleMicButton();\n                                }\n                            })\n                                .catch(function (err) { return _this.setError(err, ChatErrorType.Recoverable); })];\n                    case 5:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.appendToChat = function (content, from) {\n        this.messages = __spreadArrays(this.messages, [\n            {\n                content: content,\n                from: from,\n            },\n        ]);\n    };\n    /**\n     * State control methods\n     */\n    class_1.prototype.setError = function (error, errorType) {\n        var message = typeof error === 'string' ? error : error.message;\n        this.chatState = ChatState.Error;\n        this.error = { message: message, errorType: errorType };\n    };\n    class_1.prototype.reset = function () {\n        this.chatState = ChatState.Initial;\n        this.text = '';\n        this.error = undefined;\n        this.messages = [];\n        if (this.welcomeMessage)\n            this.appendToChat(this.welcomeMessage, MessageFrom.Bot);\n        this.audioRecorder && this.audioRecorder.clear();\n    };\n    class_1.prototype.listeningFooterJSX = function () {\n        var _this = this;\n        var visualization = h(\"canvas\", { height: \"50\" });\n        var cancelButton = (h(\"amplify-button\", { \"data-test\": \"chatbot-cancel-button\", handleButtonClick: function () { return _this.handleCancelButton(); }, class: \"icon-button\", variant: \"icon\", icon: \"ban\" }));\n        return [visualization, cancelButton];\n    };\n    class_1.prototype.footerJSX = function () {\n        var _this = this;\n        if (this.chatState === ChatState.Listening)\n            return this.listeningFooterJSX();\n        var inputPlaceholder = this.textEnabled\n            ? Translations.TEXT_INPUT_PLACEHOLDER\n            : Translations.VOICE_INPUT_PLACEHOLDER;\n        var textInput = (h(\"amplify-input\", { placeholder: I18n.get(inputPlaceholder), description: \"text\", handleInputChange: function (evt) { return _this.handleTextChange(evt); }, value: this.text, disabled: this.chatState === ChatState.Error || !this.textEnabled }));\n        var micButton = this.voiceEnabled && (h(\"amplify-button\", { \"data-test\": \"chatbot-mic-button\", handleButtonClick: function () { return _this.handleMicButton(); }, class: \"icon-button\", variant: \"icon\", icon: \"microphone\", disabled: this.chatState === ChatState.Error ||\n                this.chatState !== ChatState.Initial }));\n        var sendButton = this.textEnabled && (h(\"amplify-button\", { \"data-test\": \"chatbot-send-button\", class: \"icon-button\", variant: \"icon\", icon: \"send\", handleButtonClick: function () { return _this.sendTextMessage(); }, disabled: this.chatState === ChatState.Error ||\n                this.chatState !== ChatState.Initial }));\n        return [textInput, micButton, sendButton];\n    };\n    class_1.prototype.errorToast = function () {\n        var _this = this;\n        if (!this.error)\n            return;\n        var _a = this.error, message = _a.message, errorType = _a.errorType;\n        return (h(\"amplify-toast\", { message: I18n.get(message), handleClose: function () { return _this.handleToastClose(errorType); } }));\n    };\n    class_1.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"div\", { class: \"amplify-chatbot\" }, h(\"slot\", { name: \"header\" }, h(\"div\", { class: \"header\", \"data-test\": \"chatbot-header\" }, I18n.get(this.botTitle))), h(\"div\", { class: \"body\", \"data-test\": \"chatbot-body\" }, this.messageJSX(this.messages)), h(\"form\", { onSubmit: function (e) { return _this.handleSubmit(e); } }, h(\"div\", { class: \"footer\", \"data-test\": \"chatbot-footer\" }, this.footerJSX())), this.errorToast())));\n    };\n    Object.defineProperty(class_1.prototype, \"element\", {\n        get: function () { return getElement(this); },\n        enumerable: false,\n        configurable: true\n    });\n    return class_1;\n}());\nAmplifyChatbot.style = amplifyChatbotCss;\nexport { AmplifyChatbot as amplify_chatbot };\n"],"names":["obj","BadRequestException","DeleteSessionRequest","DeleteSessionResponse","InternalFailureException","LimitExceededException","NotFoundException","GetSessionRequest","FulfillmentState","MessageFormatType","DialogActionType","DialogAction","slots","message","GetSessionResponse","recentIntentSummaryView","map","DependencyFailedException","LoopDetectedException","NotAcceptableException","PostContentRequest","requestAttributes","PostContentResponse","RequestTimeoutException","UnsupportedMediaTypeException","PostTextRequest","inputText","PredictedIntent","ContentType","Button","GenericAttachment","ResponseCard","SentimentResponse","PostTextResponse","alternativeIntents","PutSessionResponse","ConsoleLogger","Logger","logger","options","_config","AbstractInteractionsProvider","config","__assign","debug","getProviderName","Object","AWS_CN_TEMPLATE","AWS_ISO_TEMPLATE","AWS_ISO_B_TEMPLATE","AWS_US_GOV_TEMPLATE","AWS_REGIONS","Set","AWS_CN_REGIONS","AWS_ISO_REGIONS","AWS_ISO_B_REGIONS","AWS_US_GOV_REGIONS","defaultRegionInfoProvider","region","regionInfo","undefined","hostname","partition","signingService","has","replace","Promise","resolve","AWS_TEMPLATE","ClientSharedValues","apiVersion","disableHostPrefix","regionInfoProvider","serviceId","urlParser","parseUrl","runtime","packageInfo","ClientDefaultValues","base64Decoder","base64Encoder","toBase64","bodyLengthChecker","calculateBodyLength","credentialDefaultProvider","defaultUserAgent","_","reject","Error","defaultUserAgentProvider","clientVersion","fromUtf8","version","maxAttempts","Sha256","requestHandler","fromBase64","sha256","DEFAULT_MAX_ATTEMPTS","utf8Decoder","streamCollector","utf8Encoder","FetchHttpHandler","invalidProvider","toUtf8","_config_0","_config_1","_config_2","_config_3","_config_4","resolveRegionConfig","_config_5","getHostHeaderPlugin","_config_6","getContentLengthPlugin","_this","resolveUserAgentConfig","resolveAwsAuthConfig","middlewareStack","getRetryPlugin","use","__Client","LexRuntimeServiceClient","_super","destroy","call","getUserAgentPlugin","getAwsAuthPlugin","resolveHostHeaderConfig","getLoggerPlugin","resolveRetryConfig","Client","__ClientDefaultValues","configuration","ActiveContext","parameters","SENSITIVE_STRING","ConflictException","ActiveContextTimeToLive","ConfirmationStatus","IntentSummary","item","filterSensitiveLog","sessionAttributes","dialogAction","activeContexts","BadGatewayException","DialogState","IntentConfidence","PutSessionRequest","toString","botName","__HttpRequest","labelValue","length","botAlias","userId","endpoint","_a","_c","LazyJsonString","_b","HttpRequest","contentType","accept","input","serializeAws_restJson1PostTextCommand","JSON","stringify","serializeAws_restJson1ActiveContextsList","port","protocol","path","method","body","headers","serializeAws_restJson1GetSessionCommand","query","checkpointLabelFilter","serializeAws_restJson1PostContentCommand","__extendedEncodeURIComponent","isSerializableHeaderValue","serializeAws_restJson1StringMap","serializeAws_restJson1PutSessionCommand","serializeAws_restJson1DialogAction","serializeAws_restJson1IntentSummaryList","sentimentResponse","deserializeMetadata","sessionId","parseBody","data","slotToElicit","parsedOutput","_p","_q","deserializeAws_restJson1BadGatewayExceptionResponse","deserializeAws_restJson1DependencyFailedExceptionResponse","deserializeAws_restJson1LoopDetectedExceptionResponse","code","deserializeAws_restJson1NotAcceptableExceptionResponse","deserializeAws_restJson1RequestTimeoutExceptionResponse","deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse","_h","deserializeAws_restJson1PostTextCommand","deserializeAws_restJson1PostTextCommandError","errorCode","loadRestJsonErrorCode","deserializeAws_restJson1BadRequestExceptionResponse","response","name","deserializeAws_restJson1ConflictExceptionResponse","deserializeAws_restJson1InternalFailureExceptionResponse","deserializeAws_restJson1LimitExceededExceptionResponse","deserializeAws_restJson1NotFoundExceptionResponse","Code","responseCard","deserializeAws_restJson1IntentList","deserializeAws_restJson1IntentConfidence","deserializeAws_restJson1ResponseCard","parsedBody","deserializeAws_restJson1SentimentResponse","_l","_j","$fault","_m","assign","deserializeAws_restJson1GetSessionCommand","deserializeAws_restJson1PutSessionCommand","deserializeAws_restJson1GetSessionCommandError","deserializeAws_restJson1ActiveContextsList","deserializeAws_restJson1PutSessionCommandError","retryAfterSeconds","deserializeAws_restJson1DialogAction","serializeAws_restJson1ActiveContext","deserializeAws_restJson1IntentSummaryList","deserializeAws_restJson1StringMap","_g","deserializeAws_restJson1PostContentCommand","deserializeAws_restJson1PostContentCommandError","audioStream","serializeAws_restJson1ActiveContextParametersMap","timeToLive","serializeAws_restJson1ActiveContextTimeToLive","inputTranscript","entries","reduce","acc","key","nluIntentConfidence","e","entry","timeToLiveInSeconds","turnsToLive","fulfillmentState","type","serializeAws_restJson1IntentSummary","checkpointLabel","__LazyJsonString","confirmationStatus","dialogActionType","deserializeAws_restJson1ActiveContext","deserializeAws_restJson1ActiveContextParametersMap","deserializeAws_restJson1ActiveContextTimeToLive","deserializeAws_restJson1Button","text","deserializeAws_restJson1GenericAttachment","deserializeAws_restJson1genericAttachmentList","score","deserializeAws_restJson1PredictedIntent","deserializeAws_restJson1IntentSummary","genericAttachments","sentimentLabel","sentimentScore","httpStatusCode","requestId","extendedRequestId","cfId","collectBody","streamBody","Uint8Array","collectBodyString","then","getOwnPropertyNames","includes","size","encoded","parse","findKey","object","keys","find","k","toLowerCase","sanitizeErrorCode","rawValue","cleanValue","indexOf","split","headerKey","PostTextCommand","clientStack","serialize","deserialize","stack","Command","concat","clientName","commandName","handlerExecutionContext","inputFilterSensitiveLog","outputFilterSensitiveLog","handle","context","output","getSerdePlugin","__extends","PostContentCommand","convert","stream","Blob","ReadableStream","Response","arrayBuffer","buffer","Credentials","getAmplifyUserAgent","_botsCompleteCallback","AWSLexProvider","botname","dialogState","setTimeout","onComplete","get","credentials","lexRuntimeServiceClient","customUserAgent","params","alias","identityId","postTextCommand","send","reportBotStatus","err_1","postContentCommand","audioArray","content","messageType","inputStream","err_2","callback","ErrorEvent","Amplify","_options","_pluggables","InteractionsClass","opt","Interactions","bots","aws_bots_config","bots_config","Array","isArray","forEach","bot","providerName","configure","pluggable","getCategory","register","botProvider","sendMessage","ChatState","MessageFrom","ChatErrorType","__awaiter","thisArg","_arguments","P","generator","adopt","value","fulfilled","step","next","rejected","result","done","apply","__generator","f","y","t","g","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","pop","push","__spreadArrays","s","i","il","arguments","r","a","j","jl","RECORDER_EXPORT_MIME_TYPE","DEFAULT_EXPORT_SAMPLE_RATE","FFT_SIZE","FFT_MAX_DECIBELS","FFT_MIN_DECIBELS","FFT_SMOOTHING_TIME_CONSTANT","mergeBuffers","bufferArray","recLength","Float32Array","offset","set","downsampleBuffer","recordSampleRate","exportSampleRate","sampleRateRatio","newLength","Math","round","offsetResult","offsetBuffer","nextOffsetBuffer","accum","count","floatTo16BitPCM","byteOffset","max","min","setInt16","writeString","view","string","setUint8","charCodeAt","encodeWAV","samples","audioSize","fmtSize","dataSize","totalByteSize","ArrayBuffer","DataView","setUint32","setUint16","exportBuffer","recBuffer","mergedBuffers","downsampledBuffer","encodedWav","audioBlob","AudioRecorder","streamBuffer","streamBufferLength","recording","prototype","init","browserOrNode","isBrowser","window","AudioContext","webkitAudioContext","audioContext","navigator","mediaDevices","getUserMedia","audio","audioSupported","setupAudioNodes","catch","sourceNode","processorNode","analyserNode","resume","error","createMediaStreamSource","createScriptProcessor","onaudioprocess","audioProcessingEvent","inputBuffer","getChannelData","analyse","createAnalyser","minDecibels","maxDecibels","smoothingTimeConstant","connect","destination","startRecording","onSilence","visualizer","start","Date","now","stopRecording","clear","play","myBlob","res","rej","fileReader","FileReader","onload","playbackSource","disconnect","createBufferSource","successCallback","buf","onended","errorCallback","err","decodeAudioData","onerror","readAsArrayBuffer","stop","analyser","fftSize","bufferLength","dataArray","amplitude","time","getByteTimeDomainData","curr_value_time","newtime","elapsedTime","exportWAV","blob","sampleRate","visualize","canvas","getBoundingClientRect","width","height","canvasCtx","getContext","fillStyle","clearRect","draw","fillRect","lineWidth","color","getComputedStyle","document","documentElement","getPropertyValue","strokeStyle","beginPath","sliceWidth","x","moveTo","lineTo","stroke","requestAnimationFrame","amplifyChatbotCss","AmplifyChatbot","class_1","hostRef","registerInstance","clearOnComplete","conversationModeOn","botTitle","Translations","voiceEnabled","textEnabled","silenceTime","silenceThreshold","messages","chatState","Initial","messageJSX","messageList","h","class","from","SendingText","SendingVoice","client","Bot","User","chatCompleted","createEvent","submitHandler","_event","sendTextMessage","componentWillLoad","NO_INTERACTIONS_MODULE_FOUND","validateProps","componentDidRender","element","shadowRoot","querySelector","scrollTop","scrollHeight","welcomeMessage","appendToChat","audioRecorder","setError","Recoverable","emit","reset","Unrecoverable","handleSubmit","event","preventDefault","handleMicButton","Listening","handleSilence","sendVoiceMessage","handleTextChange","target","handleCancelButton","handleToastClose","errorType","err_3","audioInput","interactionsMessage","err_4","listeningFooterJSX","visualization","cancelButton","handleButtonClick","variant","icon","footerJSX","inputPlaceholder","textInput","placeholder","I18n","description","handleInputChange","evt","disabled","micButton","sendButton","errorToast","handleClose","render","Host","onSubmit","defineProperty","getElement","enumerable","configurable","style"],"sourceRoot":""}